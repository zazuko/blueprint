[
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Get Aggregates\n\nAn Aggregate is either a bp:Composition or a bp:Container. The difference is that a bp:Composition is a Thing that is composed of other Thing, while a bp:Container is a Thing that contains other Thing but it's not a \"is build of\" relationship.\n\nExamples:\n\nA database scheme is composed of tables, columns. This is a composition.\nA company can have persons attached to it. But the company is not build of persons. This is a container.\n\nThere can be links between Aggregates. For example a Business Object is composed of Attributes. This is an aggregation.\nA database schema can have tables and columns. This is a composition too. \n\nAttributes can be stored in a database column. This fact forms a relationship between to Aggregates. We see on a higher level that the Business Object is stored in a database schema.\n\n",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX bp: <https://flux.described.at/>\nPREFIX data: <https://ld.flux.zazuko.com/blueprint/app/>\nPREFIX oci: <https://oci.described.at/>\nPREFIX k8s: <https://k8s.described.at/>\n   SELECT ?incomingLinks ?inAggregate ?inShape ?type WHERE {\n                BIND (oci:Image AS ?type)\n                ?inShape sh:targetClass ?type .\n                ?inShape sh:group ?inAggregate . \n                ?inAggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?incomingLinks bp:target ?inAggregate .\n                ?incomingLinks a bp:AggregateLink .\n            }",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX bp: <https://flux.described.at/>\nPREFIX data: <https://ld.flux.zazuko.com/blueprint/app/>\nPREFIX oci: <https://oci.described.at/>\nPREFIX k8s: <https://k8s.described.at/>\n\nCONSTRUCT {\n    ?shape sh:group ?aggregate .\n    ?shape sh:targetClass ?type .\n\n    ?outgoingLinks ?linkP ?linkO .\n    ?propertyShape ?propertyP ?propertyO .\n    ?path sh:inversePath ?inversePath .\n\n    ?inShape sh:group ?inAggregate .\n    ?inShape sh:targetClass ?type.\n\n    ?incomingLinks ?linkP ?linkO .\n    \n} \nWHERE {\n    {\n        # outgoing links\n        {\n            SELECT ?outgoingLinks ?aggregate ?shape ?type WHERE {\n                BIND (oci:Image AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?outgoingLinks sh:targetClass ?aggregate .\n                ?outgoingLinks a bp:AggregateLink .\n            }\n        }\n        VALUES ?linkP { \n            sh:targetClass\n            sh:property\n            bp:target\n            rdfs:label\n        }\n        ?outgoingLinks ?linkP ?linkO .\n    } UNION  {\n        # outgoing links sh:property\n        {\n            SELECT ?outgoingLinks WHERE {\n                BIND (oci:Image AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?outgoingLinks sh:targetClass ?aggregate .\n                ?outgoingLinks a bp:AggregateLink .\n            }\n        }\n        \n        ?outgoingLinks sh:property ?propertyShape . \n\n        VALUES ?propertyP { \n            sh:targetClass\n            sh:path\n            sh:class\n            sh:name\n        }\n        ?propertyShape ?propertyP ?propertyO .\n        OPTIONAL {\n            ?propertyShape  sh:path ?path .\n            ?path sh:inversePath ?inversePath .\n\n        }\n    } UNION {\n        # incoming links\n        {\n            SELECT ?incomingLinks ?inAggregate ?inShape ?type WHERE {\n                BIND (oci:Image AS ?type)\n                ?inShape sh:targetClass ?type .\n                ?inShape sh:group ?inAggregate . \n                ?inAggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?incomingLinks bp:target ?inAggregate .\n                ?incomingLinks a bp:AggregateLink .\n            }\n        }\n        VALUES ?linkP { \n            sh:targetClass\n            sh:property\n            bp:target\n            rdfs:label\n        }\n        ?incomingLinks ?linkP ?linkO .\n    } UNION {\n           # incoming links sh:property\n        {\n            SELECT ?incomingLinks WHERE {\n                BIND (oci:Image AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?incomingLinks bp:target ?aggregate .\n                ?incomingLinks a bp:AggregateLink .\n            }\n        }\n        ?incomingLinks sh:property ?propertyShape .\n        VALUES ?propertyP { \n            sh:targetClass\n            sh:path\n            sh:class\n            sh:name\n        }\n        ?propertyShape ?propertyP ?propertyO .\n        OPTIONAL {\n             ?propertyShape  sh:path ?path .\n             ?path sh:inversePath ?inversePath .\n\n        }\n    }\n}\n\n\n\n",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX bp: <https://flux.described.at/>\nPREFIX data: <https://ld.flux.zazuko.com/blueprint/app/>\nPREFIX oci: <https://oci.described.at/>\nPREFIX k8s: <https://k8s.described.at/>\n\nCONSTRUCT {\n    ?shape sh:group ?aggregate .\n    ?shape sh:targetClass ?type .\n\n    ?outgoingLinks ?linkP ?linkO .\n    ?propertyShape ?propertyP ?propertyO .\n    ?path sh:inversePath ?inversePath .\n\n    ?inShape sh:group ?inAggregate .\n    ?inShape sh:targetClass ?type.\n\n    ?incomingLinks ?linkP ?linkO .\n    \n} \nWHERE {\n    {\n        # outgoing links\n        {\n            SELECT ?outgoingLinks ?aggregate ?shape ?type WHERE {\n                BIND (k8s:Deployment AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?outgoingLinks sh:targetClass ?aggregate .\n                ?outgoingLinks a bp:AggregateLink .\n            }\n        }\n        VALUES ?linkP { \n            sh:targetClass\n            sh:property\n            bp:target\n            rdfs:label\n        }\n        ?outgoingLinks ?linkP ?linkO .\n    } UNION  {\n        # outgoing links sh:property\n        {\n            SELECT ?outgoingLinks WHERE {\n                BIND (k8s:Deployment AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?outgoingLinks sh:targetClass ?aggregate .\n                ?outgoingLinks a bp:AggregateLink .\n            }\n        }\n        \n        ?outgoingLinks sh:property ?propertyShape . \n\n        VALUES ?propertyP { \n            sh:targetClass\n            sh:path\n            sh:class\n            sh:name\n        }\n        ?propertyShape ?propertyP ?propertyO .\n        OPTIONAL {\n            ?propertyShape  sh:path ?path .\n            ?path sh:inversePath ?inversePath .\n\n        }\n    } UNION {\n        # incoming links\n        {\n            SELECT ?incomingLinks ?inAggregate ?inShape ?type WHERE {\n                BIND (k8s:Deployment AS ?type)\n                ?inShape sh:targetClass ?type .\n                ?inShape sh:group ?inAggregate . \n                ?inAggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?incomingLinks bp:target ?inAggregate .\n                ?incomingLinks a bp:AggregateLink .\n            }\n        }\n        VALUES ?linkP { \n            sh:targetClass\n            sh:property\n            bp:target\n            rdfs:label\n        }\n        ?incomingLinks ?linkP ?linkO .\n    } UNION {\n           # incoming links sh:property\n        {\n            SELECT ?incomingLinks WHERE {\n                BIND (k8s:Deployment AS ?type)\n                ?shape sh:targetClass ?type .\n                ?shape sh:group ?aggregate . \n                ?aggregate rdf:type/rdfs:subClassOf* bp:Aggregate.\n                ?incomingLinks bp:target ?aggregate .\n                ?incomingLinks a bp:AggregateLink .\n            }\n        }\n        ?incomingLinks sh:property ?propertyShape .\n        VALUES ?propertyP { \n            sh:targetClass\n            sh:path\n            sh:class\n            sh:name\n        }\n        ?propertyShape ?propertyP ?propertyO .\n        OPTIONAL {\n             ?propertyShape  sh:path ?path .\n             ?path sh:inversePath ?inversePath .\n\n        }\n    }\n}\n\n\n\n",
    "metadata": {}
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Bidiractional Link with Two Connectors\n",
    "metadata": {}
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "\n                        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \n                        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> \n                        PREFIX blueprint: <https://flux.described.at/> \n        \n                        CONSTRUCT {\n                            <https://ld.flux.zazuko.com/blueprint/app/BusinessObjectToDatabaseSchemaLink> blueprint:result <https://ld.flux.zazuko.com/blueprint/app/BusinessObjectToDatabaseSchemaLink/0> .\n                            <https://ld.flux.zazuko.com/blueprint/app/BusinessObjectToDatabaseSchemaLink/0> a  blueprint:CompositionLinkResult .\n                            <https://ld.flux.zazuko.com/blueprint/app/BusinessObjectToDatabaseSchemaLink/0> blueprint:result ?result .\n                            <https://ld.flux.zazuko.com/blueprint/app/BusinessObjectToDatabaseSchemaLink/0> rdfs:label \"Sotred Business Objects\" .\n                            ?result ?resultP ?resultO .\n                            ?element_0_2 ?connectionPointP ?connectionPointO .\n                            ?element_0_2 a blueprint:ConnectionPoint .\n                            ?result blueprint:source ?element_0_2 . \n                            ?element_0_2 blueprint:target ?element_0_3 . \n                            ?element_0_3 ?connectionPointP ?connectionPointODest .\n                            ?element_0_3 a blueprint:ConnectionPoint .\n                        } WHERE {\n                            \n                                <http://data.table.org/wiski-db> a <http://schema.table.org/DatabaseSchema> .\n                                <http://data.table.org/wiski-db> <http://schema.table.org/hasTable> ?element_0_1 .\n                                \n\n                                ?element_0_1 <http://schema.table.org/column> ?element_0_2 .\n                                ?element_0_2 a <http://schema.table.org/Column> .\n                                VALUES ?connectionPointP {\n                                    rdfs:label\n                                    rdf:type\n                                }\n                                ?element_0_2 ?connectionPointP ?connectionPointO .\n                                \n\n                            ?element_0_2 ^<http://example.org/ea/assignment> ?element_0_3 .\n                            ?element_0_3 a <http://example.org/ea/Attribute> .\n                            ?element_0_3 ?connectionPointP ?connectionPointODest .\n                          \n\n                                ?element_0_3 ^<http://example.org/ea/assignment> ?result .\n                                ?result a <http://example.org/ea/BusinessObject> .\n                                VALUES ?resultP {\n                                    rdf:type\n                                    rdfs:label\n                                }\n                                ?result ?resultP ?resultO .\n                                \n                        }",
    "metadata": {}
  }
]